{% extends 'layouts/site.html' %}

{% set title = "Главная" %}

{% block content %}
<!-- <div class="banner-image text-white d-flex mb-3" style="background-image: url('https://oboi.decordi.ru/wp-content/uploads/2021/12/Fotooboi_detskie_gor-8.jpg');">
  <div class="container mt-auto">
    <h1 class="display-5 fw-medium mb-3">{{ title }}</h1>
  </div>
</div> -->

{% if current_user.is_authenticated %}
<div class="container mt-3">
  {% if is_banned(current_user.privileges) %}
  <div class="alert alert-danger d-flex flex-column align-items-center" role="alert">
    <h5 class="alert-heading mb-2">
      <i class="fas fa-ban fa-lg"></i>
      <span>Аккаунт заблокирован</span>
    </h5>
    <div class="text-center">
      <p class="mb-1">Ваш аккаунт был <strong>забанен</strong> за нарушение правил. Доступ к игре и взаимодействию с другими игроками отключён.</p>
      <p class="mb-0">Если вы считаете это ошибкой, пожалуйста, <a href="#" class="alert-link">свяжитесь с поддержкой</a></p>
    </div>
  </div>
  {% elif is_restricted(current_user.privileges) %}
  <div class="alert alert-warning d-flex flex-column align-items-center" role="alert">
    <h5 class="alert-heading mb-2">
      <i class="fas fa-user-lock fa-lg"></i>
      <span>Аккаунт ограничен</span>
    </h5>
    <div class="text-center">
      <p class="mb-1">Пока ваш аккаунт <strong>ограничен</strong>, вы не сможете взаимодействовать с другими игроками, а ваши рекорды будут видны только вам.</p>
      <p class="mb-0">Обычно это результат автоматизированного процесса и, как правило, ограничение снимается в течение суток.<br>Подробнее вы можете узнать по <a href="#" class="alert-link">этой ссылке</a>.</p>
    </div>
  </div>
  {% endif %}
</div>
{% endif %}

<div class="container" style="margin-top: 9rem;">
  <div class="card rounded-4 shadow border-0 overflow-visible">
    <div class="row g-0 align-items-center">
      <div class="col-md-3 text-center position-relative d-none d-md-block">
        <img src="/static/img/mascot.png" class="hero-image" alt="Crypto girl">
      </div>

      <div class="col-md-9 p-4">
        <h2 class="fw-bold">Virtual Crypto Mining</h2>
        <p class="text-muted">
          Добро пожаловать в мир виртуальной добычи криптовалюты! 
          Здесь вы найдете всю информацию: статистику, топ игроков, 
          рейтинг ферм, гайды и многое другое.
        </p>

        <div class="d-flex flex-wrap gap-2">
          {% if current_user.is_authenticated %}
          <a href="{{ url_for('site.profile', user_id = current_user.id) }}" class="btn btn-primary rounded-pill px-4">
            <i class="fa-solid fa-user"></i>
            <span>Профиль</span>
          </a>
          <a href="#" class="btn btn-success rounded-pill px-4">
            <i class="fa-solid fa-user-group"></i>
            <span>Друзья</span>
          </a>
          <a href="#" class="btn btn-warning rounded-pill px-4">
            <i class="fa-solid fa-gear"></i>
            <span>Настройки</span>
          </a>
          <a href="{{ url_for('site.logout') }}" class="btn btn-danger rounded-pill px-4">
            <i class="fa-solid fa-right-from-bracket"></i>
            <span>Выйти</span>
          </a>
          {% else %}
          <a href="{{ url_for('site.login') }}" class="btn btn-success rounded-pill px-4">
            <i class="fa-solid fa-right-to-bracket"></i>
            <span>Войти</span>
          </a>
          <a href="{{ url_for('site.register') }}" class="btn btn-primary rounded-pill px-4">
            <i class="fa-solid fa-user-plus"></i>
            <span>Регистрация</span>
          </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container my-5" style="margin-top: 10rem;">
  <div class="row g-3">
    
    <!-- Последний зарегистрировавшийся -->
    <div class="col-md-4">
      <div class="card rounded-4 shadow border-0 h-100">
        <div class="card-body text-center">
          <div class="mb-2">
            <i class="fa-solid fa-user-plus fa-2x"></i>
          </div>
          <h4 class="mb-0">nickname123</h4>
          <small>Последний зарегистрировавшийся</small>
        </div>
      </div>
    </div>

    <!-- Дорогая монета -->
    <div class="col-md-4">
      <div class="card rounded-4 shadow border-0 h-100">
        <div class="card-body text-center">
          <div class="mb-2">
            <i class="fa-solid fa-coins fa-2x"></i>
          </div>
          <h4 class="mb-0">12 543$</h4>
          <small>Дорогая монета</small>
        </div>
      </div>
    </div>

    <!-- Онлайн / Зарегистрировано -->
    <div class="col-md-4">
      <div class="card rounded-4 shadow border-0 h-100">
        <div class="card-body text-center">
          <div class="mb-2">
            <i class="fa-solid fa-users fa-2x"></i>
          </div>
          <h4 class="mb-0">532 / 12345</h4>
          <small>Онлайн / Зарегистрировано</small>
        </div>
      </div>
    </div>

    <!-- Топ страна по добыче -->
    <div class="col-md-6">
      <div class="card rounded-4 shadow border-0 h-100">
        <div class="card-body text-center">
          <div class="mb-2">
            <i class="fa-solid fa-flag fa-2x"></i>
          </div>
          <h4 class="mb-0">Россия</h4>
          <small>Топ страна по добыче</small>
        </div>
      </div>
    </div>

    <!-- Топ игрок -->
    <div class="col-md-6">
      <div class="card rounded-4 shadow border-0 h-100">
        <div class="card-body text-center">
          <div class="mb-2">
            <i class="fa-solid fa-trophy fa-2x"></i>
          </div>
          <h4 class="mb-0">BestPlayer</h4>
          <small>Топ игрок</small>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}