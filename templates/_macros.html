{% macro background(user) %}
  {% if user.background_file %}
    <style>
      #content {
        background: url("{{ url_for('media', filename='user/background/'~user.id~'/'~user.background_file) }}") no-repeat center;
        background-size: cover;
      }
    </style>
  {% endif %}
{% endmacro %}

{% macro render_pagination(pagination, endpoint, extra_params=None) %}
<ul class="pagination justify-content-center">
  {% if pagination.has_prev %}
    <li class="page-item">
      <a class="page-link" href="{{ url_for(endpoint, page=pagination.prev_num, **(extra_params or {})) }}">Назад</a>
    </li>
  {% endif %}

  {% for p in pagination.iter_pages(left_edge=2, right_edge=2, left_current=2, right_current=2) %}
    {% if p %}
      {% if p == pagination.page %}
      <li class="page-item active">
        <span class="page-link">{{ p }}</>
      </li>
      {% else %}
      <li class="page-item">
        <a class="page-link" href="{{ url_for(endpoint, page=p, **(extra_params or {})) }}">{{ p }}</a>
      </li>
      {% endif %}
    {% else %}
      <li class="page-item disabled"><span class="page-link">…</span></li>
    {% endif %}
  {% endfor %}

  {% if pagination.has_next %}
    <li class="page-item">
      <a class="page-link" href="{{ url_for(endpoint, page=pagination.next_num, **(extra_params or {})) }}">Вперед</a>
    </li>
  {% endif %}
</ul>
{% endmacro %}